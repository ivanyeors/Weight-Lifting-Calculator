(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1194],{18950:(e,a,s)=>{"use strict";s.d(a,{BE:()=>u,_s:()=>n,cp:()=>d,gk:()=>g,tb:()=>m,zj:()=>c});var t=s(95155);s(12115);var r=s(69474),l=s(59434);function n(e){let{...a}=e;return(0,t.jsx)(r._s.Root,{"data-slot":"drawer",...a})}function i(e){let{...a}=e;return(0,t.jsx)(r._s.Portal,{"data-slot":"drawer-portal",...a})}function d(e){let{...a}=e;return(0,t.jsx)(r._s.Close,{"data-slot":"drawer-close",...a})}function o(e){let{className:a,...s}=e;return(0,t.jsx)(r._s.Overlay,{"data-slot":"drawer-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...s})}function c(e){let{className:a,children:s,...n}=e;return(0,t.jsxs)(i,{"data-slot":"drawer-portal",children:[(0,t.jsx)(o,{}),(0,t.jsxs)(r._s.Content,{"data-slot":"drawer-content",className:(0,l.cn)("group/drawer-content bg-background fixed z-50 flex h-auto flex-col","data-[vaul-drawer-direction=top]:inset-x-0 data-[vaul-drawer-direction=top]:top-0 data-[vaul-drawer-direction=top]:mb-24 data-[vaul-drawer-direction=top]:max-h-[80vh] data-[vaul-drawer-direction=top]:rounded-b-lg data-[vaul-drawer-direction=top]:border-b","data-[vaul-drawer-direction=bottom]:inset-x-0 data-[vaul-drawer-direction=bottom]:bottom-0 data-[vaul-drawer-direction=bottom]:mt-24 data-[vaul-drawer-direction=bottom]:max-h-[80vh] data-[vaul-drawer-direction=bottom]:rounded-t-lg data-[vaul-drawer-direction=bottom]:border-t","data-[vaul-drawer-direction=right]:inset-y-0 data-[vaul-drawer-direction=right]:right-0 data-[vaul-drawer-direction=right]:w-3/4 data-[vaul-drawer-direction=right]:border-l data-[vaul-drawer-direction=right]:sm:max-w-sm","data-[vaul-drawer-direction=left]:inset-y-0 data-[vaul-drawer-direction=left]:left-0 data-[vaul-drawer-direction=left]:w-3/4 data-[vaul-drawer-direction=left]:border-r data-[vaul-drawer-direction=left]:sm:max-w-sm",a),...n,children:[(0,t.jsx)("div",{className:"bg-muted mx-auto mt-4 hidden h-2 w-[100px] shrink-0 rounded-full group-data-[vaul-drawer-direction=bottom]/drawer-content:block"}),s]})]})}function u(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"drawer-header",className:(0,l.cn)("flex flex-col gap-0.5 p-4 group-data-[vaul-drawer-direction=bottom]/drawer-content:text-center group-data-[vaul-drawer-direction=top]/drawer-content:text-center md:gap-1.5 md:text-left",a),...s})}function m(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"drawer-footer",className:(0,l.cn)("mt-auto flex flex-col gap-2 p-4",a),...s})}function g(e){let{className:a,...s}=e;return(0,t.jsx)(r._s.Title,{"data-slot":"drawer-title",className:(0,l.cn)("text-foreground font-semibold",a),...s})}},22346:(e,a,s)=>{"use strict";s.d(a,{w:()=>n});var t=s(95155);s(12115);var r=s(87489),l=s(59434);function n(e){let{className:a,orientation:s="horizontal",decorative:n=!0,...i}=e;return(0,t.jsx)(r.b,{"data-slot":"separator",decorative:n,orientation:s,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",a),...i})}},26126:(e,a,s)=>{"use strict";s.d(a,{E:()=>d});var t=s(95155);s(12115);var r=s(99708),l=s(74466),n=s(59434);let i=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:s,asChild:l=!1,...d}=e,o=l?r.DX:"span";return(0,t.jsx)(o,{"data-slot":"badge",className:(0,n.cn)(i({variant:s}),a),...d})}},30285:(e,a,s)=>{"use strict";s.d(a,{$:()=>d,r:()=>i});var t=s(95155);s(12115);var r=s(99708),l=s(74466),n=s(59434);let i=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:a,variant:s,size:l,asChild:d=!1,...o}=e,c=d?r.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,n.cn)(i({variant:s,size:l,className:a})),...o})}},40646:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},47262:(e,a,s)=>{"use strict";s.d(a,{S:()=>d});var t=s(95155),r=s(12115),l=s(59247),n=s(5196),i=s(59434);let d=r.forwardRef(function(e,a){let{className:s,variant:r="default",children:d,...o}=e;return(0,t.jsxs)(l.bL,{ref:a,"data-slot":"checkbox",className:(0,i.cn)("chip"===r?"inline-flex w-full items-center justify-between gap-2 rounded-md border border-input bg-background hover:bg-accent hover:text-accent-foreground data-[state=checked]:bg-primary data-[state=checked]:brightness-95 data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary data-[state=checked]:ring-2 data-[state=checked]:ring-primary/60 transition-shadow outline-none focus-visible:ring-[3px] focus-visible:ring-ring/50 focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50 pl-3 pr-4 py-2":"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:brightness-95 data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-5 shrink-0 rounded-[4px] border-2 shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...o,children:["chip"===r&&d?(0,t.jsx)("span",{className:"flex min-w-0 flex-1 items-center gap-2 truncate text-left",children:d}):null,"chip"===r?(0,t.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:(0,i.cn)("ml-2 flex items-center justify-center text-current transition-none shrink-0"),children:(0,t.jsx)(n.A,{className:"size-4"})}):(0,t.jsx)(l.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(n.A,{className:"size-4"})})]})})},50589:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]])},59409:(e,a,s)=>{"use strict";s.d(a,{bq:()=>u,eb:()=>g,gC:()=>m,l6:()=>o,yv:()=>c});var t=s(95155);s(12115);var r=s(41292),l=s(66474),n=s(5196),i=s(47863),d=s(59434);function o(e){let{...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"select",...a})}function c(e){let{...a}=e;return(0,t.jsx)(r.WT,{"data-slot":"select-value",...a})}function u(e){let{className:a,size:s="default",children:n,...i}=e;return(0,t.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":s,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...i,children:[n,(0,t.jsx)(r.In,{asChild:!0,children:(0,t.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:a,children:s,position:l="popper",...n}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...n,children:[(0,t.jsx)(h,{}),(0,t.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,t.jsx)(x,{})]})})}function g(e){let{className:a,children:s,...l}=e;return(0,t.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",a),...l,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(r.VF,{children:(0,t.jsx)(n.A,{className:"size-4"})})}),(0,t.jsx)(r.p4,{children:s})]})}function h(e){let{className:a,...s}=e;return(0,t.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(i.A,{className:"size-4"})})}function x(e){let{className:a,...s}=e;return(0,t.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,t.jsx)(l.A,{className:"size-4"})})}},59434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>l});var t=s(52596),r=s(39688);function l(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,r.QP)((0,t.$)(a))}},62523:(e,a,s)=>{"use strict";s.d(a,{p:()=>l});var t=s(95155);s(12115);var r=s(59434);function l(e){let{className:a,type:s,...l}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...l})}},62539:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>C});var t=s(95155),r=s(12115),l=s(30285),n=s(66695),i=s(26126),d=s(62523),o=s(18950),c=s(22209),u=s(22432),m=s(53904),g=s(40646),h=s(85339),x=s(50589),p=s(84616),f=s(89917),v=s(85057),b=s(59409),j=s(22346),y=s(47262),N=s(71007),w=s(76202);function k(e){let{collapsed:a,form:s,setForm:n,muscles:i,onSearch:o,onReset:c}=e,u=(0,r.useMemo)(()=>[...i].sort((e,a)=>e.name.localeCompare(a.name)),[i]);return(0,t.jsxs)("div",{className:[a?"hidden":"fixed inset-y-0 left-0 z-50 w-[24rem] max-w-[90vw] shadow-lg lg:sticky lg:top-0 lg:self-start lg:w-[19.2rem] lg:max-w-none","border-r bg-background flex flex-col h-full lg:h-screen transition-all p-0"].join(" "),children:[(0,t.jsx)("div",{className:"px-2 pt-2",children:(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(N.A,{className:"h-6 w-6 text-primary"}),!a&&(0,t.jsx)("h2",{className:"text-sm font-semibold",children:"Filter Users"})]})})}),!a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:(0,t.jsxs)("div",{className:"px-2 space-y-5 pb-24",children:[(0,t.jsx)(j.w,{className:"my-1"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Name"}),(0,t.jsx)(d.p,{value:s.name,onChange:e=>n(a=>({...a,name:e.target.value})),placeholder:"e.g. Alex"})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Body Weight (kg)"}),(0,t.jsx)(w.A,{value:s.bodyWeightRange,min:30,max:200,step:1,onValueChange:e=>n(a=>({...a,bodyWeightRange:[e[0],e[1]]}))}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.bodyWeightRange[0]," - ",s.bodyWeightRange[1]," kg"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Height (cm)"}),(0,t.jsx)(w.A,{value:s.heightRange,min:120,max:220,step:1,onValueChange:e=>n(a=>({...a,heightRange:[e[0],e[1]]}))}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.heightRange[0]," - ",s.heightRange[1]," cm"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Age"}),(0,t.jsx)(w.A,{value:s.ageRange,min:10,max:90,step:1,onValueChange:e=>n(a=>({...a,ageRange:[e[0],e[1]]}))}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.ageRange[0]," - ",s.ageRange[1]]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"SMM (kg)"}),(0,t.jsx)(w.A,{value:s.skeletalMuscleMassRange,min:10,max:60,step:1,onValueChange:e=>n(a=>({...a,skeletalMuscleMassRange:[e[0],e[1]]}))}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.skeletalMuscleMassRange[0]," - ",s.skeletalMuscleMassRange[1]," kg"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"BFM (kg)"}),(0,t.jsx)(w.A,{value:s.bodyFatMassRange,min:2,max:60,step:1,onValueChange:e=>n(a=>({...a,bodyFatMassRange:[e[0],e[1]]}))}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground",children:[s.bodyFatMassRange[0]," - ",s.bodyFatMassRange[1]," kg"]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Gender"}),(0,t.jsxs)(b.l6,{value:s.gender,onValueChange:e=>n(a=>({...a,gender:e})),children:[(0,t.jsx)(b.bq,{className:"w-full h-10 bg-background border-border",children:(0,t.jsx)(b.yv,{placeholder:"Select gender"})}),(0,t.jsxs)(b.gC,{className:"w-full",children:[(0,t.jsx)(b.eb,{value:"male",children:"Male"}),(0,t.jsx)(b.eb,{value:"female",children:"Female"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Experience"}),(0,t.jsxs)(b.l6,{value:s.experience,onValueChange:e=>n(a=>({...a,experience:e})),children:[(0,t.jsx)(b.bq,{className:"w-full h-10 bg-background border-border",children:(0,t.jsx)(b.yv,{placeholder:"Select experience"})}),(0,t.jsxs)(b.gC,{className:"w-full max-h-60",children:[(0,t.jsx)(b.eb,{value:"cat1",children:"Cat I (0-6m)"}),(0,t.jsx)(b.eb,{value:"cat2",children:"Cat II (6-12m)"}),(0,t.jsx)(b.eb,{value:"cat3",children:"Cat III (1-2y)"}),(0,t.jsx)(b.eb,{value:"cat4",children:"Cat IV (3-4y)"}),(0,t.jsx)(b.eb,{value:"cat5",children:"Cat V (5+y)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Past Injuries (muscles)"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-[520px] overflow-auto pr-0",children:u.map(e=>(0,t.jsx)(y.S,{variant:"chip",checked:s.injuries.includes(e.id),onCheckedChange:a=>{n(s=>{let t=new Set(s.injuries);return!0===a?t.add(e.id):t.delete(e.id),{...s,injuries:Array.from(t)}})},className:"text-sm w-full justify-between",children:(0,t.jsx)("span",{className:"truncate",children:e.name})},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Medical Conditions (comma-separated)"}),(0,t.jsx)(d.p,{placeholder:"e.g. Hypertension, Asthma",value:s.medicalConditions.join(", "),onChange:e=>n(a=>({...a,medicalConditions:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Food Allergies (comma-separated)"}),(0,t.jsx)(d.p,{placeholder:"e.g. Nuts, Dairy",value:s.foodAllergies.join(", "),onChange:e=>n(a=>({...a,foodAllergies:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,t.jsx)(j.w,{className:"my-1"})]})}),(0,t.jsx)("div",{className:"border-t px-2 py-2 bg-background",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.$,{className:"flex-1",onClick:o,children:"Search"}),(0,t.jsx)(l.$,{variant:"secondary",onClick:c,children:"Reset"})]})})]})]})}var _=s(79308);function C(){var e,a,s,j,N,w,C,A,M,R;let[I,E]=(0,r.useState)("idle"),[z,S]=(0,r.useState)(!1),[J,F]=(0,r.useState)([]),D=()=>({name:"",bodyWeight:null,height:null,age:null,skeletalMuscleMass:null,bodyFatMass:null,gender:"male",experience:"cat3",injuries:[],medicalConditions:[],foodAllergies:[],goals:"",note:""}),B=()=>({name:"",bodyWeightRange:[30,200],heightRange:[120,220],ageRange:[10,90],skeletalMuscleMassRange:[10,60],bodyFatMassRange:[2,60],gender:"",experience:"",injuries:[],medicalConditions:[],foodAllergies:[]}),[V,O]=(0,r.useState)(D()),[W,P]=(0,r.useState)(B()),[L,U]=(0,r.useState)(B()),[q,T]=(0,r.useState)(!1),[G,H]=(0,r.useState)([]),[Z,$]=(0,r.useState)({}),[X,Y]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(null),[ee,ea]=(0,r.useState)(null),[es,et]=(0,r.useState)(!1),er=(0,r.useCallback)(async()=>{let{data:e,error:a}=await _.N.from("muscles").select("id, name").order("name",{ascending:!0});a||H(null!=e?e:[])},[]),el=(0,r.useCallback)(async()=>{try{E("syncing");let{data:e,error:a}=await _.N.from("managed_users").select("id, name, body_weight_kg, height_cm, age, skeletal_muscle_mass_kg, body_fat_mass_kg, gender, experience, medical_conditions, food_allergies, goals, note").order("updated_at",{ascending:!1});if(a)throw a;F(null!=e?e:[]);let s=(null!=e?e:[]).map(e=>e.id);if(s.length>0){let{data:e}=await _.N.from("managed_user_injuries").select("user_id, muscle_id").in("user_id",s),a={};(null!=e?e:[]).forEach(e=>{let s=e.user_id,t=e.muscle_id;a[s]||(a[s]=[]),a[s].push(t)}),$(a)}else $({});E("success")}catch(e){console.error("Error loading users:",e),E("error")}},[]),en=(0,r.useCallback)(e=>{Q(e),ea(e),et(!1),Y(!0)},[]);(0,r.useEffect)(()=>{el(),er()},[el,er]),(0,r.useEffect)(()=>{let e=e=>{("fitspo:selected_user_changed"===e.key||"fitspo:users_updated"===e.key)&&el()},a=()=>{el()};return window.addEventListener("storage",e),window.addEventListener("fitspo:users_updated",a),()=>{window.removeEventListener("storage",e),window.removeEventListener("fitspo:users_updated",a)}},[el]);let ei=async()=>{try{var e;E("syncing");let a=V.name.trim()||"New User",{data:s,error:t}=await _.N.from("managed_users").insert({owner_id:null==(e=(await _.N.auth.getUser()).data.user)?void 0:e.id,name:a,body_weight_kg:V.bodyWeight,height_cm:V.height,age:V.age,skeletal_muscle_mass_kg:V.skeletalMuscleMass,body_fat_mass_kg:V.bodyFatMass,gender:V.gender,experience:V.experience,medical_conditions:V.medicalConditions,food_allergies:V.foodAllergies,goals:V.goals,note:V.note}).select("id").single();if(t)throw t;let r=s.id;if(V.injuries.length>0){let e=V.injuries.map(e=>({user_id:r,muscle_id:e}));await _.N.from("managed_user_injuries").insert(e)}await el(),T(!1),O(D()),E("success"),window.dispatchEvent(new Event("fitspo:users_updated"))}catch(e){console.error("Error creating user:",e),E("error")}},ed=(0,r.useMemo)(()=>{let e=e=>e.toLowerCase().trim();return J.filter(a=>{var s,t,r;if(L.name&&!a.name.toLowerCase().includes(e(L.name))||null!=a.body_weight_kg&&(a.body_weight_kg<L.bodyWeightRange[0]||a.body_weight_kg>L.bodyWeightRange[1])||null!=a.height_cm&&(a.height_cm<L.heightRange[0]||a.height_cm>L.heightRange[1])||null!=a.age&&(a.age<L.ageRange[0]||a.age>L.ageRange[1])||null!=a.skeletal_muscle_mass_kg&&(a.skeletal_muscle_mass_kg<L.skeletalMuscleMassRange[0]||a.skeletal_muscle_mass_kg>L.skeletalMuscleMassRange[1])||null!=a.body_fat_mass_kg&&(a.body_fat_mass_kg<L.bodyFatMassRange[0]||a.body_fat_mass_kg>L.bodyFatMassRange[1])||L.gender&&a.gender!==L.gender||L.experience&&a.experience!==L.experience)return!1;if(L.medicalConditions.length>0){let t=(null!=(s=a.medical_conditions)?s:[]).map(e);if(!L.medicalConditions.every(a=>t.includes(e(a))))return!1}if(L.foodAllergies.length>0){let s=(null!=(t=a.food_allergies)?t:[]).map(e);if(!L.foodAllergies.every(a=>s.includes(e(a))))return!1}if(L.injuries.length>0){let e=null!=(r=Z[a.id])?r:[];if(!L.injuries.every(a=>e.includes(a)))return!1}return!0})},[J,L,Z]);return(0,t.jsxs)("div",{className:"flex h-screen",children:[(0,t.jsx)(k,{collapsed:z,form:W,setForm:e=>P(a=>e(a)),muscles:G,onSearch:()=>U(W),onReset:()=>{P(B()),U(B())}}),!z&&(0,t.jsx)("div",{className:"fixed inset-0 z-40 bg-black/40 lg:hidden",onClick:()=>S(!0),"aria-hidden":!0}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col",children:[(0,t.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,t.jsx)(l.$,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>S(e=>!e),"aria-label":z?"Expand sidebar":"Collapse sidebar",children:z?(0,t.jsx)(c.A,{className:"h-4 w-4"}):(0,t.jsx)(u.A,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-3",children:[(0,t.jsx)(l.$,{size:"icon",variant:"ghost",className:"h-8 w-8 p-0",onClick:()=>el(),"aria-label":"Refresh users",disabled:"syncing"===I,children:(0,t.jsx)(m.A,{className:"h-4 w-4 ".concat("syncing"===I?"animate-spin":"")})}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["syncing"===I&&(0,t.jsx)(m.A,{className:"h-4 w-4 animate-spin"}),"success"===I&&(0,t.jsx)(g.A,{className:"h-4 w-4 text-green-600"}),"error"===I&&(0,t.jsx)(h.A,{className:"h-4 w-4 text-red-600"}),"idle"===I&&(0,t.jsx)(x.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{className:"hidden sm:inline",children:["syncing"===I&&"Syncing...","success"===I&&"Synced","error"===I&&"Sync failed","idle"===I&&"Ready"]})]}),(0,t.jsxs)(l.$,{onClick:()=>{T(!0)},children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),"New User"]})]})]}),(0,t.jsxs)("div",{className:"flex-1 p-4 md:p-6 overflow-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold",children:"Users"}),(0,t.jsx)(i.E,{variant:"secondary",children:ed.length})]}),0===ed.length?(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"p-4 text-sm text-muted-foreground",children:"No users yet. Create one to get started."})}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:ed.map(e=>{var a,s,r,l;return(0,t.jsxs)(n.Zp,{className:"cursor-pointer hover:shadow-md hover:border-white transition-all duration-200",onClick:()=>en(e),children:[(0,t.jsx)(n.aR,{className:"pb-2",children:(0,t.jsx)(n.ZB,{className:"text-base truncate",children:e.name})}),(0,t.jsx)(n.Wu,{className:"pt-0 text-sm text-muted-foreground",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{children:["BW: ",null!=(a=e.body_weight_kg)?a:"—"," kg"]}),(0,t.jsxs)("div",{children:["H: ",null!=(s=e.height_cm)?s:"—"," cm"]}),(0,t.jsxs)("div",{children:["Age: ",null!=(r=e.age)?r:"—"]}),(0,t.jsxs)("div",{children:["Gender: ",null!=(l=e.gender)?l:"—"]})]})})]},e.id)})})]})]}),(0,t.jsx)(o._s,{open:q,onOpenChange:T,direction:"right",children:(0,t.jsx)(o.zj,{className:"data-[vaul-drawer-direction=right]:!w-1/2 data-[vaul-drawer-direction=right]:!max-w-none",children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)(o.BE,{className:"pb-0",children:(0,t.jsx)(o.gk,{className:"text-xl",children:"Create User"})}),(0,t.jsx)("div",{className:"p-4 overflow-auto",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Name"}),(0,t.jsx)(d.p,{value:V.name,onChange:e=>O(a=>({...a,name:e.target.value})),placeholder:"e.g. Alex"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Body Weight (kg)"}),(0,t.jsx)(d.p,{inputMode:"decimal",value:null!=(e=V.bodyWeight)?e:"",onChange:e=>O(a=>({...a,bodyWeight:Number(e.target.value)||null}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Height (cm)"}),(0,t.jsx)(d.p,{inputMode:"numeric",value:null!=(a=V.height)?a:"",onChange:e=>O(a=>({...a,height:Number(e.target.value)||null}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Age"}),(0,t.jsx)(d.p,{inputMode:"numeric",value:null!=(s=V.age)?s:"",onChange:e=>O(a=>({...a,age:Number(e.target.value)||null}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"SMM (kg)"}),(0,t.jsx)(d.p,{inputMode:"decimal",value:null!=(j=V.skeletalMuscleMass)?j:"",onChange:e=>O(a=>({...a,skeletalMuscleMass:Number(e.target.value)||null}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"BFM (kg)"}),(0,t.jsx)(d.p,{inputMode:"decimal",value:null!=(N=V.bodyFatMass)?N:"",onChange:e=>O(a=>({...a,bodyFatMass:Number(e.target.value)||null}))})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Gender"}),(0,t.jsxs)(b.l6,{value:V.gender,onValueChange:e=>O(a=>({...a,gender:e})),children:[(0,t.jsx)(b.bq,{className:"w-full h-10 bg-background border-border",children:(0,t.jsx)(b.yv,{placeholder:"Select gender"})}),(0,t.jsxs)(b.gC,{className:"w-full",children:[(0,t.jsx)(b.eb,{value:"male",children:"Male"}),(0,t.jsx)(b.eb,{value:"female",children:"Female"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Experience"}),(0,t.jsxs)(b.l6,{value:V.experience,onValueChange:e=>O(a=>({...a,experience:e})),children:[(0,t.jsx)(b.bq,{className:"w-full h-10 bg-background border-border",children:(0,t.jsx)(b.yv,{placeholder:"Select experience"})}),(0,t.jsxs)(b.gC,{className:"w-full max-h-60",children:[(0,t.jsx)(b.eb,{value:"cat1",children:"Cat I (0-6m)"}),(0,t.jsx)(b.eb,{value:"cat2",children:"Cat II (6-12m)"}),(0,t.jsx)(b.eb,{value:"cat3",children:"Cat III (1-2y)"}),(0,t.jsx)(b.eb,{value:"cat4",children:"Cat IV (3-4y)"}),(0,t.jsx)(b.eb,{value:"cat5",children:"Cat V (5+y)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Past Injuries (muscles)"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-[520px] overflow-auto pr-0",children:G.map(e=>(0,t.jsx)(y.S,{variant:"chip",checked:V.injuries.includes(e.id),onCheckedChange:a=>{O(s=>{let t=new Set(s.injuries);return!0===a?t.add(e.id):t.delete(e.id),{...s,injuries:Array.from(t)}})},className:"text-sm w-full justify-between",children:(0,t.jsx)("span",{className:"truncate",children:e.name})},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Medical Conditions (comma-separated)"}),(0,t.jsx)(d.p,{placeholder:"e.g. Hypertension, Asthma",value:V.medicalConditions.join(", "),onChange:e=>O(a=>({...a,medicalConditions:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Food Allergies (comma-separated)"}),(0,t.jsx)(d.p,{placeholder:"e.g. Nuts, Dairy",value:V.foodAllergies.join(", "),onChange:e=>O(a=>({...a,foodAllergies:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}))})]}),(0,t.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Goals"}),(0,t.jsx)("textarea",{className:"w-full min-h-20 rounded-md border bg-background px-3 py-2 text-sm",placeholder:"Describe goals",value:V.goals,onChange:e=>O(a=>({...a,goals:e.target.value}))})]}),(0,t.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Note"}),(0,t.jsx)("textarea",{className:"w-full min-h-20 rounded-md border bg-background px-3 py-2 text-sm",placeholder:"Additional notes",value:V.note,onChange:e=>O(a=>({...a,note:e.target.value}))})]}),(0,t.jsx)("div",{className:"pt-2 sm:col-span-2",children:(0,t.jsx)(l.$,{onClick:ei,disabled:"syncing"===I,children:"Create"})})]})})]})})}),(0,t.jsx)(o._s,{open:X,onOpenChange:Y,direction:"right",children:(0,t.jsx)(o.zj,{className:"data-[vaul-drawer-direction=right]:!w-1/2 data-[vaul-drawer-direction=right]:!max-w-none",children:(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsx)(o.BE,{className:"pb-0",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o.gk,{className:"text-xl",children:es?"Edit User":(null==K?void 0:K.name)||"User Details"}),(0,t.jsxs)(l.$,{variant:"ghost",size:"sm",onClick:()=>et(!es),disabled:!K,children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),es?"Cancel":"Edit"]})]})}),(0,t.jsx)("div",{className:"p-4 overflow-auto",children:K&&(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Name"}),(0,t.jsx)(d.p,{value:(null==ee?void 0:ee.name)||"",onChange:e=>ea(a=>a?{...a,name:e.target.value}:null),placeholder:"e.g. Alex",disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Body Weight (kg)"}),(0,t.jsx)(d.p,{inputMode:"decimal",value:null!=(w=null==ee?void 0:ee.body_weight_kg)?w:"",onChange:e=>ea(a=>a?{...a,body_weight_kg:Number(e.target.value)||null}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Height (cm)"}),(0,t.jsx)(d.p,{inputMode:"numeric",value:null!=(C=null==ee?void 0:ee.height_cm)?C:"",onChange:e=>ea(a=>a?{...a,height_cm:Number(e.target.value)||null}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Age"}),(0,t.jsx)(d.p,{inputMode:"numeric",value:null!=(A=null==ee?void 0:ee.age)?A:"",onChange:e=>ea(a=>a?{...a,age:Number(e.target.value)||null}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"SMM (kg)"}),(0,t.jsx)(d.p,{inputMode:"decimal",value:null!=(M=null==ee?void 0:ee.skeletal_muscle_mass_kg)?M:"",onChange:e=>ea(a=>a?{...a,skeletal_muscle_mass_kg:Number(e.target.value)||null}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"BFM (kg)"}),(0,t.jsx)(d.p,{inputMode:"decimal",value:null!=(R=null==ee?void 0:ee.body_fat_mass_kg)?R:"",onChange:e=>ea(a=>a?{...a,body_fat_mass_kg:Number(e.target.value)||null}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Gender"}),(0,t.jsxs)(b.l6,{value:(null==ee?void 0:ee.gender)||"male",onValueChange:e=>ea(a=>a?{...a,gender:e}:null),disabled:!es,children:[(0,t.jsx)(b.bq,{className:"w-full h-10 bg-background border-border",children:(0,t.jsx)(b.yv,{placeholder:"Select gender"})}),(0,t.jsxs)(b.gC,{className:"w-full",children:[(0,t.jsx)(b.eb,{value:"male",children:"Male"}),(0,t.jsx)(b.eb,{value:"female",children:"Female"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Experience"}),(0,t.jsxs)(b.l6,{value:(null==ee?void 0:ee.experience)||"cat3",onValueChange:e=>ea(a=>a?{...a,experience:e}:null),disabled:!es,children:[(0,t.jsx)(b.bq,{className:"w-full h-10 bg-background border-border",children:(0,t.jsx)(b.yv,{placeholder:"Select experience"})}),(0,t.jsxs)(b.gC,{className:"w-full max-h-60",children:[(0,t.jsx)(b.eb,{value:"cat1",children:"Cat I (0-6m)"}),(0,t.jsx)(b.eb,{value:"cat2",children:"Cat II (6-12m)"}),(0,t.jsx)(b.eb,{value:"cat3",children:"Cat III (1-2y)"}),(0,t.jsx)(b.eb,{value:"cat4",children:"Cat IV (3-4y)"}),(0,t.jsx)(b.eb,{value:"cat5",children:"Cat V (5+y)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Past Injuries (muscles)"}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 pr-0",children:G.map(e=>(0,t.jsx)(y.S,{variant:"chip",checked:(Z[K.id]||[]).includes(e.id),onCheckedChange:a=>{if(!es)return;let s=Z[K.id]||[],t=a?[...s,e.id]:s.filter(a=>a!==e.id);$(e=>({...e,[K.id]:t}))},className:"text-sm w-full justify-between",disabled:!es,children:(0,t.jsx)("span",{className:"truncate",children:e.name})},e.id))})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Medical Conditions (comma-separated)"}),(0,t.jsx)(d.p,{placeholder:"e.g. Hypertension, Asthma",value:((null==ee?void 0:ee.medical_conditions)||[]).join(", "),onChange:e=>ea(a=>a?{...a,medical_conditions:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Food Allergies (comma-separated)"}),(0,t.jsx)(d.p,{placeholder:"e.g. Nuts, Dairy",value:((null==ee?void 0:ee.food_allergies)||[]).join(", "),onChange:e=>ea(a=>a?{...a,food_allergies:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Goals"}),(0,t.jsx)("textarea",{className:"w-full min-h-20 rounded-md border bg-background px-3 py-2 text-sm disabled:opacity-50",placeholder:"Describe goals",value:(null==ee?void 0:ee.goals)||"",onChange:e=>ea(a=>a?{...a,goals:e.target.value}:null),disabled:!es})]}),(0,t.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,t.jsx)(v.J,{className:"text-sm font-medium",children:"Note"}),(0,t.jsx)("textarea",{className:"w-full min-h-20 rounded-md border bg-background px-3 py-2 text-sm disabled:opacity-50",placeholder:"Additional notes",value:(null==ee?void 0:ee.note)||"",disabled:!es,onChange:e=>ea(a=>a?{...a,note:e.target.value}:null)})]}),es&&(0,t.jsx)("div",{className:"pt-2 sm:col-span-2",children:(0,t.jsx)(l.$,{onClick:async()=>{if(ee)try{E("syncing");let{error:e}=await _.N.from("managed_users").update({name:ee.name,body_weight_kg:ee.body_weight_kg,height_cm:ee.height_cm,age:ee.age,skeletal_muscle_mass_kg:ee.skeletal_muscle_mass_kg,body_fat_mass_kg:ee.body_fat_mass_kg,gender:ee.gender,experience:ee.experience,medical_conditions:ee.medical_conditions,food_allergies:ee.food_allergies,goals:ee.goals,note:ee.note}).eq("id",ee.id);if(e)throw e;let a=Z[K.id]||[],{error:s}=await _.N.from("managed_user_injuries").delete().eq("user_id",K.id);if(s)throw s;if(a.length>0){let e=a.map(e=>({user_id:K.id,muscle_id:e})),{error:s}=await _.N.from("managed_user_injuries").insert(e);if(s)throw s}await el(),et(!1),E("success"),window.dispatchEvent(new Event("fitspo:users_updated"))}catch(e){console.error("Error updating user:",e),E("error")}},disabled:"syncing"===I,children:"Save Changes"})})]})})]})})})]})}},66695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>d,Wu:()=>o,ZB:()=>i,Zp:()=>l,aR:()=>n,wL:()=>c});var t=s(95155);s(12115);var r=s(59434);function l(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-2 rounded-xl border py-4 shadow-sm",a),...s})}function n(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...s})}function i(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",a),...s})}function d(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",a),...s})}function o(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",a),...s})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center px-4 [.border-t]:pt-6",a),...s})}},71007:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},76202:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var t=s(95155),r=s(12115),l=s(17329),n=s(59434);function i(e){let{className:a,defaultValue:s,value:i,min:d=0,max:o=100,...c}=e,u=r.useMemo(()=>Array.isArray(i)?i:Array.isArray(s)?s:[d,o],[i,s,d,o]);return(0,t.jsxs)(l.bL,{"data-slot":"slider",defaultValue:s,value:i,min:d,max:o,className:(0,n.cn)("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",a),...c,children:[(0,t.jsx)(l.CC,{"data-slot":"slider-track",className:(0,n.cn)("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:(0,t.jsx)(l.Q6,{"data-slot":"slider-range",className:(0,n.cn)("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:u.length},(e,a)=>(0,t.jsx)(l.zi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},a))]})}},79308:(e,a,s)=>{"use strict";s.d(a,{N:()=>n});var t=s(72354);let r="https://jwwwckiphqjlubmpjumg.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp3d3dja2lwaHFqbHVibXBqdW1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NzA3NjYsImV4cCI6MjA3MDI0Njc2Nn0.ETVK8Ynp6BRkISWjlit-sjwZNmLaHpxK8ewPe-tjGNY";if(!r||!l)throw Error("Missing Supabase environment variables: NEXT_PUBLIC_SUPABASE_URL and/or NEXT_PUBLIC_SUPABASE_ANON_KEY");let n=(0,t.UU)(r,l,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}})},85057:(e,a,s)=>{"use strict";s.d(a,{J:()=>n});var t=s(95155);s(12115);var r=s(40968),l=s(59434);function n(e){let{className:a,...s}=e;return(0,t.jsx)(r.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}},85339:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=(0,s(19946).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},86224:(e,a,s)=>{"use strict";s.d(a,{bm:()=>el,UC:()=>es,VY:()=>er,hJ:()=>ea,ZL:()=>ee,bL:()=>K,hE:()=>et,l9:()=>Q,G$:()=>Z,Hs:()=>y});var t=s(12115);function r(e,a,{checkForDefaultPrevented:s=!0}={}){return function(t){if(e?.(t),!1===s||!t.defaultPrevented)return a?.(t)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var l=s(6101),n=s(46081),i=s(61285),d=s(5845),o=s(69816),c=s(25519),u=s(34378),m=s(28905),g=s(63655),h=s(92293),x=s(93795),p=s(38168),f=s(99708),v=s(95155),b="Dialog",[j,y]=(0,n.A)(b),[N,w]=j(b),k=e=>{let{__scopeDialog:a,children:s,open:r,defaultOpen:l,onOpenChange:n,modal:o=!0}=e,c=t.useRef(null),u=t.useRef(null),[m,g]=(0,d.i)({prop:r,defaultProp:null!=l&&l,onChange:n,caller:b});return(0,v.jsx)(N,{scope:a,triggerRef:c,contentRef:u,contentId:(0,i.B)(),titleId:(0,i.B)(),descriptionId:(0,i.B)(),open:m,onOpenChange:g,onOpenToggle:t.useCallback(()=>g(e=>!e),[g]),modal:o,children:s})};k.displayName=b;var _="DialogTrigger",C=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,n=w(_,s),i=(0,l.s)(a,n.triggerRef);return(0,v.jsx)(g.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":G(n.open),...t,ref:i,onClick:r(e.onClick,n.onOpenToggle)})});C.displayName=_;var A="DialogPortal",[M,R]=j(A,{forceMount:void 0}),I=e=>{let{__scopeDialog:a,forceMount:s,children:r,container:l}=e,n=w(A,a);return(0,v.jsx)(M,{scope:a,forceMount:s,children:t.Children.map(r,e=>(0,v.jsx)(m.C,{present:s||n.open,children:(0,v.jsx)(u.Z,{asChild:!0,container:l,children:e})}))})};I.displayName=A;var E="DialogOverlay",z=t.forwardRef((e,a)=>{let s=R(E,e.__scopeDialog),{forceMount:t=s.forceMount,...r}=e,l=w(E,e.__scopeDialog);return l.modal?(0,v.jsx)(m.C,{present:t||l.open,children:(0,v.jsx)(J,{...r,ref:a})}):null});z.displayName=E;var S=(0,f.TL)("DialogOverlay.RemoveScroll"),J=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,r=w(E,s);return(0,v.jsx)(x.A,{as:S,allowPinchZoom:!0,shards:[r.contentRef],children:(0,v.jsx)(g.sG.div,{"data-state":G(r.open),...t,ref:a,style:{pointerEvents:"auto",...t.style}})})}),F="DialogContent",D=t.forwardRef((e,a)=>{let s=R(F,e.__scopeDialog),{forceMount:t=s.forceMount,...r}=e,l=w(F,e.__scopeDialog);return(0,v.jsx)(m.C,{present:t||l.open,children:l.modal?(0,v.jsx)(B,{...r,ref:a}):(0,v.jsx)(V,{...r,ref:a})})});D.displayName=F;var B=t.forwardRef((e,a)=>{let s=w(F,e.__scopeDialog),n=t.useRef(null),i=(0,l.s)(a,s.contentRef,n);return t.useEffect(()=>{let e=n.current;if(e)return(0,p.Eq)(e)},[]),(0,v.jsx)(O,{...e,ref:i,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:r(e.onCloseAutoFocus,e=>{var a;e.preventDefault(),null==(a=s.triggerRef.current)||a.focus()}),onPointerDownOutside:r(e.onPointerDownOutside,e=>{let a=e.detail.originalEvent,s=0===a.button&&!0===a.ctrlKey;(2===a.button||s)&&e.preventDefault()}),onFocusOutside:r(e.onFocusOutside,e=>e.preventDefault())})}),V=t.forwardRef((e,a)=>{let s=w(F,e.__scopeDialog),r=t.useRef(!1),l=t.useRef(!1);return(0,v.jsx)(O,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var t,n;null==(t=e.onCloseAutoFocus)||t.call(e,a),a.defaultPrevented||(r.current||null==(n=s.triggerRef.current)||n.focus(),a.preventDefault()),r.current=!1,l.current=!1},onInteractOutside:a=>{var t,n;null==(t=e.onInteractOutside)||t.call(e,a),a.defaultPrevented||(r.current=!0,"pointerdown"===a.detail.originalEvent.type&&(l.current=!0));let i=a.target;(null==(n=s.triggerRef.current)?void 0:n.contains(i))&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&l.current&&a.preventDefault()}})}),O=t.forwardRef((e,a)=>{let{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:i,...d}=e,u=w(F,s),m=t.useRef(null),g=(0,l.s)(a,m);return(0,h.Oh)(),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.n,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:i,children:(0,v.jsx)(o.qW,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":G(u.open),...d,ref:g,onDismiss:()=>u.onOpenChange(!1)})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(X,{titleId:u.titleId}),(0,v.jsx)(Y,{contentRef:m,descriptionId:u.descriptionId})]})]})}),W="DialogTitle",P=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,r=w(W,s);return(0,v.jsx)(g.sG.h2,{id:r.titleId,...t,ref:a})});P.displayName=W;var L="DialogDescription",U=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,r=w(L,s);return(0,v.jsx)(g.sG.p,{id:r.descriptionId,...t,ref:a})});U.displayName=L;var q="DialogClose",T=t.forwardRef((e,a)=>{let{__scopeDialog:s,...t}=e,l=w(q,s);return(0,v.jsx)(g.sG.button,{type:"button",...t,ref:a,onClick:r(e.onClick,()=>l.onOpenChange(!1))})});function G(e){return e?"open":"closed"}T.displayName=q;var H="DialogTitleWarning",[Z,$]=(0,n.q)(H,{contentName:F,titleName:W,docsSlug:"dialog"}),X=e=>{let{titleId:a}=e,s=$(H),r="`".concat(s.contentName,"` requires a `").concat(s.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(s.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(s.docsSlug);return t.useEffect(()=>{a&&(document.getElementById(a)||console.error(r))},[r,a]),null},Y=e=>{let{contentRef:a,descriptionId:s}=e,r=$("DialogDescriptionWarning"),l="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return t.useEffect(()=>{var e;let t=null==(e=a.current)?void 0:e.getAttribute("aria-describedby");s&&t&&(document.getElementById(s)||console.warn(l))},[l,a,s]),null},K=k,Q=C,ee=I,ea=z,es=D,et=P,er=U,el=T},87953:(e,a,s)=>{Promise.resolve().then(s.bind(s,62539))}},e=>{e.O(0,[7804,8214,8619,7791,598,8233,6901,8441,5964,7358],()=>e(e.s=87953)),_N_E=e.O()}]);