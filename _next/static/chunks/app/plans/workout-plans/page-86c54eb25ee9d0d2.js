(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7156],{30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>l,r:()=>o});var n=a(95155);a(12115);var r=a(99708),i=a(74466),s=a(59434);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:a,size:i,asChild:l=!1,...d}=e,c=l?r.DX:"button";return(0,n.jsx)(c,{"data-slot":"button",className:(0,s.cn)(o({variant:a,size:i,className:t})),...d})}},33927:(e,t,a)=>{Promise.resolve().then(a.bind(a,91438))},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i});var n=a(52596),r=a(39688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,n.$)(t))}},79308:(e,t,a)=>{"use strict";a.d(t,{N:()=>s});var n=a(72354);let r="https://jwwwckiphqjlubmpjumg.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp3d3dja2lwaHFqbHVibXBqdW1nIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ2NzA3NjYsImV4cCI6MjA3MDI0Njc2Nn0.ETVK8Ynp6BRkISWjlit-sjwZNmLaHpxK8ewPe-tjGNY";if(!r||!i)throw Error("Missing Supabase environment variables: NEXT_PUBLIC_SUPABASE_URL and/or NEXT_PUBLIC_SUPABASE_ANON_KEY");let s=(0,n.UU)(r,i,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}})},91394:(e,t,a)=>{"use strict";a.d(t,{BK:()=>o,eu:()=>s,q5:()=>l});var n=a(95155);a(12115);var r=a(54011),i=a(59434);function s(e){let{className:t,...a}=e;return(0,n.jsx)(r.bL,{"data-slot":"avatar",className:(0,i.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function o(e){let{className:t,...a}=e;return(0,n.jsx)(r._V,{"data-slot":"avatar-image",className:(0,i.cn)("aspect-square size-full",t),...a})}function l(e){let{className:t,...a}=e;return(0,n.jsx)(r.H4,{"data-slot":"avatar-fallback",className:(0,i.cn)("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}},91438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>J});var n=a(95155),r=a(11518),i=a.n(r),s=a(12115),o=a(30285),l=a(69074),d=a(53904),c=a(84616),m=a(89079),p=a(95117),x=a(93724),u=a(99331),g=a(63251);a(76071);var h=a(59409),v=a(62523),f=a(85057),b=a(59434);function j(e){let{className:t,...a}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:(0,b.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}var _=a(91394),w=a(54416),k=a(14186),N=a(17580),y=a(4516),C=a(1243),S=a(85511),P=a(14636),z=a(38619),A=a(97165),E=a(63008);function I(e){var t,a,r,i;let{isOpen:d,onClose:c,mode:m,event:p,trainers:x,workoutSpaces:u,onCreateEvent:g,onUpdateAttendance:b,prefillDates:I}=e,[D,T]=(0,s.useState)({title:"",dateRange:void 0,startTime:"09:00",endTime:"10:00",trainer:"",workoutSpaceId:"",maxParticipants:8,description:""});return(0,s.useEffect)(()=>{d&&"create"===m&&T({title:"",dateRange:I?{from:new Date(I.start),to:new Date(I.end)}:void 0,startTime:"09:00",endTime:"10:00",trainer:"",workoutSpaceId:"",maxParticipants:8,description:""})},[d,m,I]),(0,n.jsxs)(n.Fragment,{children:[d&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:c}),(0,n.jsx)("div",{className:"fixed inset-y-0 right-0 w-full sm:w-1/2 lg:w-1/3 xl:w-1/4 bg-background border-l shadow-xl transform transition-transform duration-300 ease-in-out z-50 ".concat(d?"translate-x-0":"translate-x-full"),children:(0,n.jsxs)("div",{className:"h-full overflow-y-auto p-6",children:["create"===m&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:"Create New Workout Session"}),(0,n.jsx)(o.$,{variant:"ghost",size:"sm",onClick:c,children:(0,n.jsx)(w.A,{className:"w-4 h-4"})})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{children:"Session Title"}),(0,n.jsx)(v.p,{placeholder:"Enter session title",value:D.title,onChange:e=>T(t=>({...t,title:e.target.value}))})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{children:"Date"}),(0,n.jsxs)(P.AM,{children:[(0,n.jsx)(P.Wv,{asChild:!0,children:(0,n.jsxs)(o.$,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[(0,n.jsx)(l.A,{className:"mr-2 h-4 w-4"}),(null==(t=D.dateRange)?void 0:t.from)?(0,E.GP)(D.dateRange.from,"LLL dd, y"):(0,n.jsx)("span",{children:"Select date"})]})}),(0,n.jsx)(P.hl,{className:"w-auto p-0",align:"start",children:(0,n.jsx)(S.V,{mode:"single",selected:null==(a=D.dateRange)?void 0:a.from,onSelect:e=>T(t=>({...t,dateRange:e?{from:e,to:e}:void 0}))})})]})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{htmlFor:"time-from",children:"Start Time"}),(0,n.jsxs)("div",{className:"relative flex w-full items-center gap-2",children:[(0,n.jsx)(k.A,{className:"text-muted-foreground pointer-events-none absolute left-2.5 size-4 select-none"}),(0,n.jsx)(v.p,{id:"time-from",type:"time",step:"1",value:D.startTime,onChange:e=>T(t=>({...t,startTime:e.target.value})),className:"appearance-none pl-8 [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{htmlFor:"time-to",children:"End Time"}),(0,n.jsxs)("div",{className:"relative flex w-full items-center gap-2",children:[(0,n.jsx)(k.A,{className:"text-muted-foreground pointer-events-none absolute left-2.5 size-4 select-none"}),(0,n.jsx)(v.p,{id:"time-to",type:"time",step:"1",value:D.endTime,onChange:e=>T(t=>({...t,endTime:e.target.value})),className:"appearance-none pl-8 [&::-webkit-calendar-picker-indicator]:hidden [&::-webkit-calendar-picker-indicator]:appearance-none"})]})]})]}),!(null==(r=D.dateRange)?void 0:r.from)&&(0,n.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Select a date for your workout session"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{children:"Trainer"}),(0,n.jsxs)(h.l6,{value:D.trainer,onValueChange:e=>T(t=>({...t,trainer:e})),children:[(0,n.jsx)(h.bq,{children:(0,n.jsx)(h.yv,{placeholder:"Select trainer"})}),(0,n.jsx)(h.gC,{children:x.map(e=>(0,n.jsx)(h.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{children:"Workout Space"}),(0,n.jsxs)(h.l6,{value:D.workoutSpaceId,onValueChange:e=>T(t=>({...t,workoutSpaceId:e})),children:[(0,n.jsx)(h.bq,{children:(0,n.jsx)(h.yv,{placeholder:"Select workout space"})}),(0,n.jsx)(h.gC,{children:u.map(e=>(0,n.jsx)(h.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{children:"Max Participants"}),(0,n.jsx)(v.p,{type:"number",placeholder:"8",value:D.maxParticipants,onChange:e=>T(t=>({...t,maxParticipants:parseInt(e.target.value)||8}))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(f.J,{children:"Description"}),(0,n.jsx)(j,{placeholder:"Enter session description",value:D.description,onChange:e=>T(t=>({...t,description:e.target.value}))})]}),(0,n.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,n.jsx)(o.$,{className:"flex-1",onClick:()=>{var e;if(!D.title||!(null==(e=D.dateRange)?void 0:e.from))return;let t=x.find(e=>e.id===D.trainer),a=u.find(e=>e.id===D.workoutSpaceId),[n,r]=D.startTime.split(":").map(Number),[i,s]=D.endTime.split(":").map(Number),o=(0,z.g)((0,A.a)(D.dateRange.from,n),r),l=D.dateRange.to?(0,z.g)((0,A.a)(D.dateRange.to,i),s):(0,z.g)((0,A.a)(D.dateRange.from,i),s),d={id:Date.now().toString(),title:D.title,start:(0,E.GP)(o,"yyyy-MM-dd HH:mm"),end:(0,E.GP)(l,"yyyy-MM-dd HH:mm"),backgroundColor:"#3b82f6",borderColor:"#2563eb",extendedProps:{trainer:(null==t?void 0:t.name)||"Unassigned",participants:[],plan:D.title,location:(null==a?void 0:a.name)||"No location specified",maxParticipants:D.maxParticipants,currentParticipants:0,medicalFlags:[],attendance:{}}};null==g||g(d),c()},disabled:!D.title||!(null==(i=D.dateRange)?void 0:i.from),children:"Create Session"}),(0,n.jsx)(o.$,{variant:"outline",className:"flex-1",onClick:c,children:"Cancel"})]})]})]}),"view"===m&&(p?(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h2",{className:"text-lg font-semibold",children:p.title}),(0,n.jsx)(o.$,{variant:"ghost",size:"sm",onClick:c,children:(0,n.jsx)(w.A,{className:"w-4 h-4"})})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-3",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(k.A,{className:"w-4 h-4 text-muted-foreground"}),(0,n.jsxs)("span",{className:"text-sm",children:[new Date(p.start).toLocaleString()," - ",new Date(p.end).toLocaleTimeString()]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(N.A,{className:"w-4 h-4 text-muted-foreground"}),(0,n.jsxs)("span",{className:"text-sm",children:["Trainer: ",p.extendedProps.trainer]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(y.A,{className:"w-4 h-4 text-muted-foreground"}),(0,n.jsx)("span",{className:"text-sm",children:p.extendedProps.location})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(l.A,{className:"w-4 h-4 text-muted-foreground"}),(0,n.jsxs)("span",{className:"text-sm",children:[p.extendedProps.currentParticipants,"/",p.extendedProps.maxParticipants," participants"]})]})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(f.J,{className:"text-sm font-medium",children:"Participants & Attendance"}),(0,n.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:p.extendedProps.participants.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)(_.eu,{className:"w-8 h-8",children:[(0,n.jsx)(_.BK,{src:e.avatar}),(0,n.jsx)(_.q5,{className:"text-xs",children:e.name.split(" ").map(e=>e[0]).join("")})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:e.email}),e.medicalConditions.length>0&&(0,n.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,n.jsx)(C.A,{className:"w-3 h-3 text-red-500"}),(0,n.jsx)("span",{className:"text-xs text-red-600",children:e.medicalConditions.join(", ")})]})]})]}),(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)(h.l6,{value:p.extendedProps.attendance[e.id]||"present",onValueChange:t=>null==b?void 0:b(p.id,e.id,t),children:[(0,n.jsx)(h.bq,{className:"w-24",children:(0,n.jsx)(h.yv,{})}),(0,n.jsxs)(h.gC,{children:[(0,n.jsx)(h.eb,{value:"present",children:"Present"}),(0,n.jsx)(h.eb,{value:"late",children:"Late"}),(0,n.jsx)(h.eb,{value:"absent",children:"Absent"}),(0,n.jsx)(h.eb,{value:"cancelled",children:"Cancelled"})]})]})})]},e.id))})]}),p.extendedProps.medicalFlags.length>0&&(0,n.jsxs)("div",{className:"p-3 bg-red-50 border border-red-200 rounded",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-red-700",children:[(0,n.jsx)(C.A,{className:"w-4 h-4"}),(0,n.jsx)("span",{className:"text-sm font-medium",children:"Medical Conditions Present"})]}),(0,n.jsx)("div",{className:"text-xs text-red-600 mt-1",children:p.extendedProps.medicalFlags.join(", ")})]}),(0,n.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,n.jsx)(o.$,{variant:"outline",className:"flex-1",children:"Edit Session"}),(0,n.jsx)(o.$,{variant:"outline",className:"flex-1",children:"Manage Participants"}),(0,n.jsx)(o.$,{variant:"outline",className:"flex-1",children:"View Details"})]})]})]}):null)]})})]})}var D=a(41152),T=a(87519),M=a(79308);function F(){let{isAuthenticated:e,isLoading:t,error:a,events:r,accounts:h,convertFromGoogleEvent:v,fetchEvents:f,debugState:b,clearAllData:j}=(0,T.R)({autoSync:!0}),[_,w]=(0,s.useState)(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t);a.setDate(a.getDate()+1);let n=new Date(t);return n.setDate(n.getDate()+2),[{id:"1",title:"Strength Training",start:"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")," 09:00"),end:"".concat(t.getFullYear(),"-").concat(String(t.getMonth()+1).padStart(2,"0"),"-").concat(String(t.getDate()).padStart(2,"0")," 10:00"),backgroundColor:"#3b82f6",borderColor:"#2563eb",source:"platform",extendedProps:{trainer:"Sarah Wilson",participants:[{id:"1",name:"John Doe",email:"john@example.com",status:"active",medicalConditions:["Knee injury"],lastAttendance:"2024-01-15",trainer:"Sarah Wilson",phone:"+1-555-0123"},{id:"2",name:"Jane Smith",email:"jane@example.com",status:"active",medicalConditions:[],lastAttendance:"2024-01-15",trainer:"Sarah Wilson",phone:"+1-555-0124"}],plan:"Strength Training",location:"Gym A",maxParticipants:8,currentParticipants:2,medicalFlags:["Knee injury"],attendance:{1:"present",2:"present"}}},{id:"2",title:"Cardio Session",start:"".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0")," 14:00"),end:"".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0"),"-").concat(String(a.getDate()).padStart(2,"0")," 15:00"),backgroundColor:"#10b981",borderColor:"#059669",source:"platform",extendedProps:{trainer:"Mike Johnson",participants:[{id:"3",name:"Bob Wilson",email:"bob@example.com",status:"active",medicalConditions:["Back pain","Diabetes"],lastAttendance:"2024-01-12",trainer:"Mike Johnson",phone:"+1-555-0125"}],plan:"Cardio Training",location:"Gym B",maxParticipants:6,currentParticipants:1,medicalFlags:["Back pain","Diabetes"],attendance:{3:"present"}}}]}),[k]=(0,s.useState)([{id:"1",name:"Sarah Wilson",email:"sarah@fitness.com",phone:"+1-555-0101",specialties:["Strength Training","Cardio","HIIT"],rating:4.8,availability:["Monday","Wednesday","Friday"],avatar:"/avatars/sarah.jpg"},{id:"2",name:"Mike Johnson",email:"mike@fitness.com",phone:"+1-555-0102",specialties:["Yoga","Pilates","Flexibility"],rating:4.6,availability:["Tuesday","Thursday","Saturday"],avatar:"/avatars/mike.jpg"}]),[N,y]=(0,s.useState)([]),[C,S]=(0,s.useState)(!1),[P,z]=(0,s.useState)("view"),[A,E]=(0,s.useState)(null),[F,J]=(0,s.useState)(!1);(0,s.useEffect)(()=>{(async()=>{try{let{data:e,error:t}=await M.N.from("workout_spaces").select("id, name").order("name",{ascending:!0});if(t)throw t;y((null!=e?e:[]).map(e=>({id:e.id,name:e.name})))}catch(e){console.error("Failed to load workout spaces",e)}})()},[]),(0,s.useEffect)(()=>{e&&f()},[e,f]),(0,s.useEffect)(()=>{if(console.log("Google Calendar state:",{isConnected:e,eventsCount:r.length,accountsCount:h.length,events:r}),e&&r.length>0){console.log("Processing Google Calendar events...");let e=r.map(e=>{console.log("Processing event:",e);let t=v(e);console.log("Converted event:",t);let a=h.find(e=>e.id===t.accountId);console.log("Found account:",a);let n={id:"google-".concat(e.id),title:t.title,start:t.start,end:t.end,backgroundColor:(null==a?void 0:a.color)||"#6b7280",borderColor:(null==a?void 0:a.color)||"#4b5563",source:"google",googleEventId:e.id,accountId:t.accountId,accountEmail:t.accountEmail,extendedProps:{trainer:(null==a?void 0:a.name)||"Google Calendar",participants:t.attendees||[],plan:t.title,location:t.location||"",maxParticipants:0,currentParticipants:0,medicalFlags:[],attendance:{}}};return console.log("Created calendar event:",n),n});console.log("All Google events processed:",e),w(t=>{let a=[...t.filter(e=>"platform"===e.source),...e];return console.log("Updated events state:",a),a})}else e&&0===r.length?console.log("Google Calendar connected but no events found"):console.log("Google Calendar not connected or no events")},[r,e,h,v]);let G=(0,s.useMemo)(()=>(0,x.k)(),[]),R=(0,s.useMemo)(()=>(0,u.U)(),[]),U=(0,s.useMemo)(()=>(0,g.m)(30),[]),$=(0,m.VQ)({views:[(0,p.U)(),(0,p.Eb)(),(0,p.qt)(),(0,p.w_)()],events:_.map(e=>({id:e.id,title:e.title,start:e.start,end:e.end,calendarId:"workout-calendar"})),calendars:{"workout-calendar":{colorName:"blue",lightColors:{main:"#3b82f6",container:"#dbeafe",onContainer:"#1e40af"},darkColors:{main:"#60a5fa",onContainer:"#dbeafe",container:"#1e3a8a"}}},plugins:[G,R,U],theme:"shadcn",isDark:!0,callbacks:{onEventClick:e=>{let t=_.find(t=>t.id===e.id);t&&(E(t),z("view"),S(!0))},onEventUpdate:e=>{w(t=>t.map(t=>t.id===e.id?{...t,start:e.start,end:e.end}:t))}}});(0,s.useEffect)(()=>{if(console.log("Updating Schedule-X calendar with events:",_),G&&$){let e=G.getAll();console.log("Clearing existing events:",e.length),e.forEach(e=>{G.remove(e.id)}),console.log("Adding new events to Schedule-X:",_.length),_.forEach(e=>{console.log("Adding event to Schedule-X:",{id:e.id,title:e.title,start:e.start,end:e.end,source:e.source}),G.add({id:e.id,title:e.title,start:e.start,end:e.end,calendarId:"workout-calendar"})}),console.log("Schedule-X calendar updated. Total events:",G.getAll().length)}},[_,G,$]);let L=(0,s.useCallback)(()=>{z("create"),S(!0)},[]),B=(0,s.useCallback)((e,t,a)=>{w(n=>n.map(n=>n.id===e?{...n,extendedProps:{...n.extendedProps,attendance:{...n.extendedProps.attendance,[t]:a}}}:n))},[]);return(0,n.jsxs)("div",{className:"h-full flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-background",children:[(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:"Workout Plans"}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[a&&(0,n.jsx)("div",{className:"text-xs text-red-600 bg-red-50 px-2 py-1 rounded",children:"Google Calendar Error"}),(0,n.jsxs)(o.$,{onClick:()=>J(!0),variant:"outline",className:"flex items-center gap-2",disabled:t,children:[(0,n.jsx)(l.A,{className:"w-4 h-4"}),t?"Loading...":e?"Connected":"Connect"]}),e&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.$,{onClick:()=>{console.log("Manual refresh of Google Calendar events"),f()},variant:"outline",size:"sm",className:"flex items-center gap-2",children:(0,n.jsx)(d.A,{className:"w-4 h-4"})}),(0,n.jsx)(o.$,{onClick:()=>{console.log("Debug Google Calendar state"),b()},variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Debug"}),(0,n.jsx)(o.$,{onClick:()=>{console.log("Clearing all Google Calendar data"),j(),window.location.reload()},variant:"outline",size:"sm",className:"flex items-center gap-2",children:"Clear Data"})]}),(0,n.jsxs)(o.$,{onClick:L,className:"bg-primary hover:bg-primary/90",children:[(0,n.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Add Event"]})]})]}),(0,n.jsxs)("div",{className:"jsx-4ae054bb85378129 flex-1 min-h-0 sx-react-calendar-wrapper dark relative",children:[(0,n.jsx)(i(),{id:"4ae054bb85378129",children:".sx-react-calendar-wrapper{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx__calendar{background-color:none!important;border:none!important;border-radius:0!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx__view-container{position:relative!important;flex:1!important;overflow-y:auto!important;overflow-x:hidden!important;scroll-behavior:smooth!important;scrollbar-width:thin!important;scrollbar-color:hsl(var(--muted))hsl(var(--background))!important;height:100%!important;max-height:100%!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx-react-calendar-wrapper{height:100%!important;display:flex!important;flex-direction:column!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx__calendar{height:100%!important;display:flex!important;flex-direction:column!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx__view{flex:1!important;min-height:0!important;overflow:hidden!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx__calendar-header-content{display:flex;align-items:center;gap:16px;background-color:hsl(var(--background));margin-bottom:16px}.sx__today-button{display:inline-flex;align-items:center;justify-content:center;font-size:14px;font-weight:500;transition:all.2s ease;cursor:pointer;box-shadow:0 1px 2px 0 rgb(0 0 0/.05)}.sx__ripple{border-radius:6px!important;border:1px solid rgba(255,255,255,.18)!important;padding:8px 16px!important}.sx__forward-backward-navigation{display:flex;align-items:center;gap:8px}.sx__chevron-wrapper{min-width:24px!important;min-height:24px!important;padding:18px!important}.sx__range-heading{font-family:inherit!important;font-size:16px!important;font-weight:600!important;line-height:1.5!important;color:hsl(var(--foreground))!important}.sx__date-input{padding:8px 12px!important;transition:all.2s ease!important;border:1px solid rgba(255,255,255,.18)!important}.sx__date-input:hover{background-color:rgba(125,125,125,.18)!important;border-color:rgba(125,125,125,.18)!important}.sx__date-picker-popup{padding:8px!important;width:fit-content!important}.sx__date-picker__month-view-header__month-year{font-size:14px!important;font-weight:600!important;line-height:1.5!important;padding:4px!important;transition:background-color.2s ease!important;border-radius:6px!important;text-decoration:none!important}.sx__date-picker__month-view-header__month-year:hover{background-color:rgba(125,125,125,.18)!important;padding:8px 16px!important}.sx__date-picker__day-name{font-size:12px!important;font-weight:600!important;line-height:1!important;padding:4px!important}.sx__date-picker__day{font-size:12px!important;font-weight:400!important;line-height:1!important;transition:all.2s ease!important;cursor:pointer!important}.sx__date-picker__day:hover{background-color:rgba(115,115,115,.18)!important;border-radius:6px!important}.sx__date-picker__day--today{background-color:rgb(255,255,255)!important;color:rgb(0,0,0)!important;border-radius:6px!important;font-weight:600!important}.sx__date-picker__day--today:hover{background-color:rgb(255,255,255)!important}.sx__date-picker__day--selected{background-color:rgba(255,255,255,.18)!important;color:rgb(255,255,255)!important;border-radius:6px!important;font-weight:600!important}.sx__date-picker__day--selected:hover{background-color:rgba(255,255,255,.25)!important}.sx__week-grid__day-name{font-size:12px!important;font-weight:400!important;line-height:1!important;padding-bottom:4px!important}.sx__week-grid__date-number{font-size:14px!important;font-weight:400!important;line-height:1!important;border-radius:6px!important}.sx__view-selection{display:flex!important;align-items:center!important;gap:8px!important;border:1px solid rgba(115,115,115,.18)!important;border-radius:6px!important;transition:all.2s ease!important}.sx__view-selection:hover{background-color:rgba(115,115,115,.18)!important}.sx__view-selection-selected-item{display:flex!important;align-items:center!important;justify-content:space-between!important;padding:8px 12px!important;border-radius:6px!important;font-size:14px!important;font-weight:500!important;color:rgb(255,255,255)!important;cursor:pointer!important;transition:all.2s ease!important;min-width:100px!important}.sx__view-selection-dropdown{position:absolute!important;top:100%!important;left:0!important;right:0!important;background-color:hsl(var(--background))!important;border:1px solid hsl(var(--border))!important;border-radius:6px!important;box-shadow:0 4px 6px -1px rgb(0 0 0/.1),0 2px 4px -1px rgb(0 0 0/.06)!important;z-index:50!important;margin-top:4px!important}.sx__view-selection-item{padding:8px 12px!important;font-size:14px!important;color:hsl(var(--foreground))!important;cursor:pointer!important;transition:background-color.2s ease!important}.sx__view-selection-item:hover{background-color:rgba(115,115,115,.18)!important}.sx__view-selection-item:first-child{border-radius:6px 6px 0 0!important}.sx__view-selection-item:last-child{border-radius:0 0 6px 6px!important}.sx__time-grid,.sx__time-grid__day,.sx__time-grid__hour,.sx__time-grid__hour-label,.sx__time-grid__hour-content,.sx__month-grid,.sx__month-grid__day,.sx__month-grid__day-content,.sx__day-view,.sx__week-view,.sx__month-view{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx__event,.sx__event__title,.sx__event__time{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.sx__event{cursor:pointer!important}.sx__event__resize-handle{cursor:ns-resize!important}.sx__event__resize-handle--start{cursor:ns-resize!important}.sx__event__resize-handle--end{cursor:ns-resize!important}"}),(0,n.jsx)(m.iD,{calendarApp:$})]}),(0,n.jsx)(I,{isOpen:C,onClose:()=>{S(!1),E(null)},mode:P,event:A,trainers:k,workoutSpaces:N,onCreateEvent:e=>{w(t=>[...t,e])},onUpdateAttendance:B}),F&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,n.jsxs)("div",{className:"bg-background rounded-lg shadow-xl max-w-md w-full",children:[(0,n.jsx)(D.D,{onEventsSync:e=>{console.log("Synced events:",e),J(!1)},onEventCreate:e=>{console.log("Event created in Google Calendar:",e)},onEventUpdate:(e,t)=>{console.log("Event updated in Google Calendar:",e,t)},onEventDelete:e=>{console.log("Event deleted from Google Calendar:",e)}}),(0,n.jsx)("div",{className:"p-4 border-t",children:(0,n.jsx)(o.$,{onClick:()=>J(!1),variant:"outline",className:"w-full",children:"Close"})})]})})]})}function J(){return(0,n.jsx)("div",{className:"flex flex-col h-screen",children:(0,n.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,n.jsx)(F,{})})})}}},e=>{e.O(0,[5694,4614,7804,8214,8619,7791,598,9628,2099,7512,6203,8441,5964,7358],()=>e(e.s=33927)),_N_E=e.O()}]);